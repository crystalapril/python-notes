函数

1、定义
    
    函数是一段具有特定功能的、可重复使用的语句组
    函数是一种功能的抽象，一般函数表达特定的功能
    两个作用：降低编程难度、代码复用
    
    结构如下：
    def <函数名> (<参数(0个或多个)>) :
        <函数体>
        return <返回值>
    
    例如：
      函数名（参数）
    def fact(n):
        s=1
        for i in range(1,n+1):
            s *=i
        return s
               返回值
               
    y=f(x)
    函数定义时，所指定的参数是一种占位符
    函数定义后，如果不经过调用，不会被执行
    函数定义时，参数是输入，函数体是处理，结果是输出（IPO）
           

2、函数的调用
    
    调用是运行函数代码的方式，
    调用时要给出实际参数，实际参数替换定义中的参数
    函数调用后得到返回值
    
    如：fact(10)
    10是实际参数，用10替换定义的参数n，得到返回值 3628800

3、函数的参数

    3.1 参数个数
    函数可以有参数，也可以没有，但必须保留括号
    def fact1():
        print ("我也是函数")
        
    3.2 可选参数
    函数定义时可以为某些参数指定默认值，构成可选参数
    def <函数名>(<非可选参数>,<可选参数>):
        <函数体>
        return <返回值>
        
               m为可选参数
    def fact(n,m=1):
        s=1
        for i in range(1,n+1):
            s *= i
        return s//m
    >>>fact(10),fact(10,5)皆可
    
    3.3 可变参数传递
    函数定义时可以设计可变数量参数，既不确定参数总数量
    def <函数名>(<函数名>, *args):
        <函数体>
        return <返回值>
        
                 b为可变参数                
    def fact(n, *b):
        s=1
        for i in range(1,n+1)：
            s *= i
        for item in b:
            s *= item
        return s
    >>>fact(10,3),fact(10,3,5,8)
    
    3.4 关键字参数
    def <函数名>(<函数名>, *kw):
        <函数体>
        return <返回值>
        
    3.5 参数传递的两种方式
    函数调用时，参数可以按照位置或名称方式传递
    
    def fact(n,m=1):
        s=1
        for i in range(1,n+1):
            s *= i
        return s//m
        
    >>>fact(10,5)         位置传递
       fact(m=5, n=10)    名称传递
               

4、函数的返回值

    函数可以返回0个或多个结果
    return 保留字用来传递返回值
    函数可以有返回值，也可以没有，可以有return，也可以没有
    return 可以传递0个返回值，也可以传递任意多个返回值
    
    def fact(n,m=1):
        s=1
        for i in range(1,n+1):
            s *= i
        return s//m,n,m
    
    >>>fact(10,5)
    (725760,10,5)    (元组类型)
    >>>a,b,c = fact(10,5)
    >>>print(a,b,c)
    725760  10  5

5、局部变量和全局变量

    程    |<语句块1>
    序    | 
    全    |def <函数名>(<参数>):    |  函数
    局    |    <函数体>             |  局部变量
    变    |    return <返回值>      |
    量    |<语句块2>
    
    n,s =10,100                 n和s是全局变量
    def fact(n):
        s = 1                   fact()函数中的n和s是局部变量，与全局变量s不同
        for i in range(1,n+1):
            s *= i
            return s            此处局部变量 s=3628800 
    >>>print(fact(n),s)         函数调用的n和s是全局变量，s=100
    3628800  100
     
    规则1：局部变量和全局变量是不同的变量
    -局部变量是函数内部的占位符，与全局变量可能重名但不同
    -函数运算结束后，局部变量被释放
    -可以使用global保留字在函数内部使用全局变量
     
    例 5.1：加入global保留字
    n,s =10,100                 
    def fact(n):
        global s                fact()函数中使用global保留字声明，此处s是全局变量
        for i in range(1,n+1):
            s *= i
            return s            此处s指全局变量
    >>>print(fact(n),s)         此处全局变量s被函数修改 
    362880000  362880000
    
    规则2：局部变量为组合数据类型且未创建，等同于全局变量（很重要！经典坑之一）
    例 5.2：
    ls=["F","f"]          通过使用[]真实创建了一个全局变量列表ls 
    def func(a):
        ls.append(a)      此处ls是列表类型，未真实创建，则等同于全局变量
        return 
    func("C")             全局变量ls被修改
    >>>print(ls)
    ['F','f','C']
    
    例 5.3：
    ls=["F","f"]          通过使用[]真实创建了一个全局变量列表ls 
    def func(a):
        ls = []           此处ls是列表类型，真实创建
        ls.append(a)      ls是局部变量
        return 
    func("C")             局部变量ls被修改
    >>>print(ls)
    ['F','f']   
    
    总结：
    -基本数据类型，无论是否重名，局部变量与全局变量不同
    -可以通过global保留字在函数内部声明全局变量
    -组合数据类型，如果局部变量未真实创建，则是全局变量           

6、lambda 匿名函数 

lambda函数返回函数名作为结果

    -lambda函数是一种匿名函数，即没有名字的函数
    -使用lambda保留字定义，函数名是返回结果
    -lambda函数用于定义简单的，能够在一行内表示的函数
    
    <函数名> = lambda <参数>: <表达式>
              def <函数名>(<参数>):
    等价于         <函数体>
                  return <返回值>
    >>> f= lambda x,y :x + y
    >>> f(10,15)
    25
    >>> f =lambda : "lambda函数"
    >>> print(f())        注意：f后面一定要有括号才能被调用
    lambda函数
    
7、代码复用与模块化设计

代码复用：同一份代码在需要时可以被重复使用

    函数 和 对象是代码复用的两种主要形式
    
    函数：                                对象：
    将代码命名在代码层面建立了初步抽象       <a>.<b>  和 <a>.<b>()    
                                          在函数之上再次组织进行抽象
    -------------------------------------------------------------------->
                                抽象级别
    
    模块化设计
    分而治之
    -通过函数或对象封装将程序划分为模块及模块间的表达
    -具体包括：主程序、子程序和子程序间关系
    -分而治之：一种分而治之、分层抽象、体系化的设计思想
    
    紧耦合 松耦合
    -紧耦合：两个部分之间交流很多，无法独立存在
    -松耦合：两个部分之间交流较少，可以独立存在
    -模块内部紧耦合、模块之间松耦合

8、函数递归
递归的定义：函数定义中调用函数自身的方式

    n! =   1       n=0
           n(n-1)!  otherwise
           
    两个关键特征：
    -链条：计算过程存在递归链条 
    -基例:存在一个或多个不需要再次递归的基例 （类似reduce里面的初始值）
    
    递归是数学归纳法思维的编程体现
    -数学归纳法
        -证明当 N 取第一个值 N₀ 时命题成立
        -假设当 Nₖ 时命题成立，证明当 N = Nₖ₊₁ 时命题也成立
        
    递归的实现
    def fact(n):
        if n == 0:
            return 1
        else:
            return n*fact(n-1)
            
    两个要素：函数 + 分支语句
    -递归本身是一个函数，需要用函数定义方式描述
    -函数内部，采用分支语句对输入参数进行判断
    -基例和链条，分别编写对应代码
    
    例 8.1： 
    将字符串反转后输出
    -函数        def rvs(s):
    -分支语句        if s == "":
    -递归基例            return s
                    else:
    -递归链条、基例       return rvs(s[1:])+s[0]
    
    例 8.2：
    斐波那契数列
    -函数        def rvs(n):
    -分支语句        if n == 1 or n ==2 :
    -递归基例            return 1
                    else:
    -递归链条            return f(n-1) + f(n-2)
       
            
    
           


附录：

http://www.icourse163.org/learn/BIT-268001?tid=1206073223#/learn/content?type=detail&id=1210530410&cid=1212669782&replay=true

https://python123.io/student/courses/688/intro    

北京理工大学 嵩天 《python语言程序设计》讲义
